!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.PathLoader=t()}}(function(){var t;return function e(t,n,r){function o(s,u){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(i)return i(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var l=n[s]={exports:{}};t[s][0].call(l.exports,function(e){var n=t[s][1][e];return o(n?n:e)},l,l.exports,e,t,n,r)}return n[s].exports}for(var i="function"==typeof require&&require,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,n){"use strict";function r(t){return"undefined"!=typeof t&&(t=-1===t.indexOf("://")?"":t.split("://")[0]),t}function o(t){var e=r(t),n=i[e];if("undefined"==typeof n){if(""!==e)throw new Error("Unsupported scheme: "+e);n=s}return n}var i={file:t("./lib/loaders/file"),http:t("./lib/loaders/http"),https:t("./lib/loaders/http")},s="object"==typeof window||"function"==typeof importScripts?i.http:i.file;"undefined"==typeof Promise&&t("native-promise-only"),e.exports.load=function(t,e){var n=Promise.resolve();return"undefined"==typeof e&&(e={}),n=n.then(function(){if("undefined"==typeof t)throw new TypeError("location is required");if("string"!=typeof t)throw new TypeError("location must be a string");if("undefined"!=typeof e){if("object"!=typeof e)throw new TypeError("options must be an object");if("undefined"!=typeof e.processContent&&"function"!=typeof e.processContent)throw new TypeError("options.processContent must be a function")}}),n=n.then(function(){return new Promise(function(n,r){var i=o(t);i.load(t,e||{},function(t,e){t?r(t):n(e)})})}).then(function(t){return e.processContent?new Promise(function(n,r){e.processContent("object"==typeof t?t:{text:t},function(t,e){t?r(t):n(e)})}):"object"==typeof t?t.text:t})}},{"./lib/loaders/file":3,"./lib/loaders/http":4,"native-promise-only":47}],2:[function(t,e,n){"use strict";e.exports={templateStr:t("es6-template-strings")}},{"es6-template-strings":6}],3:[function(t,e,n){"use strict";var r=new TypeError("The 'file' scheme is not supported in the browser");e.exports.getBase=function(){throw r},e.exports.load=function(){var t=arguments[arguments.length-1];if("function"!=typeof t)throw r;t(r)}},{}],4:[function(t,e,n){"use strict";var r=t("superagent"),o=t("../helpers"),i=["delete","get","head","patch","post","put"];e.exports.load=function(t,e,n){function s(t,e){t?n(t):("function"==typeof e.buffer&&e.buffer(!0),e.end(function(t,e){t?n(t):n(void 0,e)}))}var u,c,a,l,f,p,h=e.method?e.method.toLowerCase():"get";if("undefined"!=typeof e.method?"string"!=typeof e.method?u=new TypeError("options.method must be a string"):-1===i.indexOf(e.method)&&(u=new TypeError("options.method must be one of the following: "+i.slice(0,i.length-1).join(", ")+" or "+i[i.length-1])):"undefined"!=typeof e.prepareRequest&&"function"!=typeof e.prepareRequest?u=new TypeError("options.prepareRequest must be a function"):"undefined"==typeof e.proxies||e.proxies.length||(u=new TypeError("options.proxies must be an array of {test: RegExp, url: ES2015 template string}")),u)n(u);else{if(e.proxies)for(a=0,p=e.proxies.length;p>a;a++)l=e.proxies[a],f=new RegExp(l.test),f.test(t)&&(t=o.templateStr(l.url,{urlEnc:encodeURIComponent(t),url:t}));if(c=r["delete"===h?"del":h](t),e.prepareRequest)try{e.prepareRequest(c,s)}catch(d){n(d)}else s(void 0,c)}}},{"../helpers":2,superagent:48}],5:[function(t,e,n){"use strict";var r,o,i,s,u,c,a,l,f,p,h=t("esniff");u=function(t){return"\\"===t?c:"$"===t?a:(o+=t,u)},c=function(t){return"\\"!==t&&"$"!==t&&(o+="\\"),o+=t,u},a=function(t){return"{"===t?(i.push(o),o="",l):"$"===t?(o+="$",a):(o+="$"+t,u)},l=function(t){var e,n=p.slice(r);return h(n,"}",function(t){return h.nest>=0?h.next():void(e=t)}),null!=e?(s.push(p.slice(r,r+e)),r+=e,o="",u):(e=n.length,r+=e,o+=n,l)},f=function(t){return"\\"!==t&&"}"!==t&&(o+="\\"),o+=t,l},e.exports=function(t){var e,n,h;for(o="",i=[],s=[],p=String(t),e=p.length,n=u,r=0;e>r;++r)n=n(p[r]);return n===u?i.push(o):n===c?i.push(o+"\\"):n===a?i.push(o+"$"):n===l?i[i.length-1]+="${"+o:n===f&&(i[i.length-1]+="${"+o+"\\"),h={literals:i,substitutions:s},i=s=null,h}},{esniff:39}],6:[function(t,e,n){"use strict";var r=t("./compile"),o=t("./resolve-to-string");e.exports=function(t,e){return o(r(t),e,arguments[2])}},{"./compile":5,"./resolve-to-string":45}],7:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Array.from:t("./shim")},{"./is-implemented":8,"./shim":9}],8:[function(t,e,n){"use strict";e.exports=function(){var t,e,n=Array.from;return"function"!=typeof n?!1:(t=["raz","dwa"],e=n(t),Boolean(e&&e!==t&&"dwa"===e[1]))}},{}],9:[function(t,e,n){"use strict";var r=t("es6-symbol").iterator,o=t("../../function/is-arguments"),i=t("../../function/is-function"),s=t("../../number/to-pos-integer"),u=t("../../object/valid-callable"),c=t("../../object/valid-value"),a=t("../../string/is-string"),l=Array.isArray,f=Function.prototype.call,p={configurable:!0,enumerable:!0,writable:!0,value:null},h=Object.defineProperty;e.exports=function(t){var e,n,d,y,m,v,b,g,x,w,j=arguments[1],_=arguments[2];if(t=Object(c(t)),null!=j&&u(j),this&&this!==Array&&i(this))e=this;else{if(!j){if(o(t))return m=t.length,1!==m?Array.apply(null,t):(y=new Array(1),y[0]=t[0],y);if(l(t)){for(y=new Array(m=t.length),n=0;m>n;++n)y[n]=t[n];return y}}y=[]}if(!l(t))if(void 0!==(x=t[r])){for(b=u(x).call(t),e&&(y=new e),g=b.next(),n=0;!g.done;)w=j?f.call(j,_,g.value,n):g.value,e?(p.value=w,h(y,n,p)):y[n]=w,g=b.next(),++n;m=n}else if(a(t)){for(m=t.length,e&&(y=new e),n=0,d=0;m>n;++n)w=t[n],m>n+1&&(v=w.charCodeAt(0),v>=55296&&56319>=v&&(w+=t[++n])),w=j?f.call(j,_,w,d):w,e?(p.value=w,h(y,d,p)):y[d]=w,++d;m=d}if(void 0===m)for(m=s(t.length),e&&(y=new e(m)),n=0;m>n;++n)w=j?f.call(j,_,t[n],n):t[n],e?(p.value=w,h(y,n,p)):y[n]=w;return e&&(p.value=null,y.length=m),y}},{"../../function/is-arguments":10,"../../function/is-function":11,"../../number/to-pos-integer":23,"../../object/valid-callable":33,"../../object/valid-value":34,"../../string/is-string":38,"es6-symbol":16}],10:[function(t,e,n){"use strict";var r=Object.prototype.toString,o=r.call(function(){return arguments}());e.exports=function(t){return r.call(t)===o}},{}],11:[function(t,e,n){"use strict";var r=Object.prototype.toString,o=r.call(t("./noop"));e.exports=function(t){return"function"==typeof t&&r.call(t)===o}},{"./noop":12}],12:[function(t,e,n){"use strict";e.exports=function(){}},{}],13:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Math.sign:t("./shim")},{"./is-implemented":14,"./shim":15}],14:[function(t,e,n){"use strict";e.exports=function(){var t=Math.sign;return"function"!=typeof t?!1:1===t(10)&&-1===t(-20)}},{}],15:[function(t,e,n){"use strict";e.exports=function(t){return t=Number(t),isNaN(t)||0===t?t:t>0?1:-1}},{}],16:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Symbol:t("./polyfill")},{"./is-implemented":17,"./polyfill":20}],17:[function(t,e,n){"use strict";e.exports=function(){var t;if("function"!=typeof Symbol)return!1;t=Symbol("test symbol");try{String(t)}catch(e){return!1}return"symbol"==typeof Symbol.iterator?!0:"object"!=typeof Symbol.isConcatSpreadable?!1:"object"!=typeof Symbol.iterator?!1:"object"!=typeof Symbol.toPrimitive?!1:"object"!=typeof Symbol.toStringTag?!1:"object"==typeof Symbol.unscopables}},{}],18:[function(t,e,n){"use strict";e.exports=function(t){return t&&("symbol"==typeof t||"Symbol"===t["@@toStringTag"])||!1}},{}],19:[function(t,e,n){"use strict";var r,o=t("es5-ext/object/assign"),i=t("es5-ext/object/normalize-options"),s=t("es5-ext/object/is-callable"),u=t("es5-ext/string/#/contains");r=e.exports=function(t,e){var n,r,s,c,a;return arguments.length<2||"string"!=typeof t?(c=e,e=t,t=null):c=arguments[2],null==t?(n=s=!0,r=!1):(n=u.call(t,"c"),r=u.call(t,"e"),s=u.call(t,"w")),a={value:e,configurable:n,enumerable:r,writable:s},c?o(i(c),a):a},r.gs=function(t,e,n){var r,c,a,l;return"string"!=typeof t?(a=n,n=e,e=t,t=null):a=arguments[3],null==e?e=void 0:s(e)?null==n?n=void 0:s(n)||(a=n,n=void 0):(a=e,e=n=void 0),null==t?(r=!0,c=!1):(r=u.call(t,"c"),c=u.call(t,"e")),l={get:e,set:n,configurable:r,enumerable:c},a?o(i(a),l):l}},{"es5-ext/object/assign":24,"es5-ext/object/is-callable":27,"es5-ext/object/normalize-options":31,"es5-ext/string/#/contains":35}],20:[function(t,e,n){"use strict";var r,o,i,s=t("d"),u=t("./validate-symbol"),c=Object.create,a=Object.defineProperties,l=Object.defineProperty,f=Object.prototype,p=c(null);"function"==typeof Symbol&&(r=Symbol);var h=function(){var t=c(null);return function(e){for(var n,r,o=0;t[e+(o||"")];)++o;return e+=o||"",t[e]=!0,n="@@"+e,l(f,n,s.gs(null,function(t){r||(r=!0,l(this,n,s(t)),r=!1)})),n}}();i=function(t){if(this instanceof i)throw new TypeError("TypeError: Symbol is not a constructor");return o(t)},e.exports=o=function d(t){var e;if(this instanceof d)throw new TypeError("TypeError: Symbol is not a constructor");return e=c(i.prototype),t=void 0===t?"":String(t),a(e,{__description__:s("",t),__name__:s("",h(t))})},a(o,{"for":s(function(t){return p[t]?p[t]:p[t]=o(String(t))}),keyFor:s(function(t){var e;u(t);for(e in p)if(p[e]===t)return e}),hasInstance:s("",r&&r.hasInstance||o("hasInstance")),isConcatSpreadable:s("",r&&r.isConcatSpreadable||o("isConcatSpreadable")),iterator:s("",r&&r.iterator||o("iterator")),match:s("",r&&r.match||o("match")),replace:s("",r&&r.replace||o("replace")),search:s("",r&&r.search||o("search")),species:s("",r&&r.species||o("species")),split:s("",r&&r.split||o("split")),toPrimitive:s("",r&&r.toPrimitive||o("toPrimitive")),toStringTag:s("",r&&r.toStringTag||o("toStringTag")),unscopables:s("",r&&r.unscopables||o("unscopables"))}),a(i.prototype,{constructor:s(o),toString:s("",function(){return this.__name__})}),a(o.prototype,{toString:s(function(){return"Symbol ("+u(this).__description__+")"}),valueOf:s(function(){return u(this)})}),l(o.prototype,o.toPrimitive,s("",function(){return u(this)})),l(o.prototype,o.toStringTag,s("c","Symbol")),l(i.prototype,o.toStringTag,s("c",o.prototype[o.toStringTag])),l(i.prototype,o.toPrimitive,s("c",o.prototype[o.toPrimitive]))},{"./validate-symbol":21,d:19}],21:[function(t,e,n){"use strict";var r=t("./is-symbol");e.exports=function(t){if(!r(t))throw new TypeError(t+" is not a symbol");return t}},{"./is-symbol":18}],22:[function(t,e,n){"use strict";var r=t("../math/sign"),o=Math.abs,i=Math.floor;e.exports=function(t){return isNaN(t)?0:(t=Number(t),0!==t&&isFinite(t)?r(t)*i(o(t)):t)}},{"../math/sign":13}],23:[function(t,e,n){"use strict";var r=t("./to-integer"),o=Math.max;e.exports=function(t){return o(0,r(t))}},{"./to-integer":22}],24:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Object.assign:t("./shim")},{"./is-implemented":25,"./shim":26}],25:[function(t,e,n){"use strict";e.exports=function(){var t,e=Object.assign;return"function"!=typeof e?!1:(t={foo:"raz"},e(t,{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},{}],26:[function(t,e,n){"use strict";var r=t("../keys"),o=t("../valid-value"),i=Math.max;e.exports=function(t,e){var n,s,u,c=i(arguments.length,2);for(t=Object(o(t)),u=function(r){try{t[r]=e[r]}catch(o){n||(n=o)}},s=1;c>s;++s)e=arguments[s],r(e).forEach(u);if(void 0!==n)throw n;return t}},{"../keys":28,"../valid-value":34}],27:[function(t,e,n){"use strict";e.exports=function(t){return"function"==typeof t}},{}],28:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?Object.keys:t("./shim")},{"./is-implemented":29,"./shim":30}],29:[function(t,e,n){"use strict";e.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},{}],30:[function(t,e,n){"use strict";var r=Object.keys;e.exports=function(t){return r(null==t?t:Object(t))}},{}],31:[function(t,e,n){"use strict";var r=Array.prototype.forEach,o=Object.create,i=function(t,e){var n;for(n in t)e[n]=t[n]};e.exports=function(t){var e=o(null);return r.call(arguments,function(t){null!=t&&i(Object(t),e)}),e}},{}],32:[function(t,e,n){"use strict";var r=Array.prototype.forEach,o=Object.create;e.exports=function(t){var e=o(null);return r.call(arguments,function(t){e[t]=!0}),e}},{}],33:[function(t,e,n){"use strict";e.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},{}],34:[function(t,e,n){"use strict";e.exports=function(t){if(null==t)throw new TypeError("Cannot use null or undefined");return t}},{}],35:[function(t,e,n){"use strict";e.exports=t("./is-implemented")()?String.prototype.contains:t("./shim")},{"./is-implemented":36,"./shim":37}],36:[function(t,e,n){"use strict";var r="razdwatrzy";e.exports=function(){return"function"!=typeof r.contains?!1:r.contains("dwa")===!0&&r.contains("foo")===!1}},{}],37:[function(t,e,n){"use strict";var r=String.prototype.indexOf;e.exports=function(t){return r.call(this,t,arguments[1])>-1}},{}],38:[function(t,e,n){"use strict";var r=Object.prototype.toString,o=r.call("");e.exports=function(t){return"string"==typeof t||t&&"object"==typeof t&&(t instanceof String||r.call(t)===o)||!1}},{}],39:[function(t,e,n){"use strict";var r,o,i,s,u,c,a,l,f,p,h,d,y,m,v,b,g,x,w,j,_,T,E,S,O,k,P,A=t("es5-ext/array/from"),C=t("es5-ext/object/primitive-set"),q=t("es5-ext/object/valid-value"),N=t("es5-ext/object/valid-callable"),R=t("d"),H=t("./lib/ws-eol"),L=t("./lib/ws"),z=Object.prototype.hasOwnProperty,D=C.apply(null,A(";{=([,<>+-*/%&|^!~?:}")),$=C.apply(null,A(";{=([,<>+-*/%&|^!~?:})]."));r=function(t){if(d&&!(h>=t))for(;h!==t;){if(!d)return;z.call(L,d)?z.call(H,d)&&(m=h,++y):b=d,d=j[++h]}},o=function(t){null!=O&&x.push([k,O,t]),k={point:h+1,line:y,column:h+1-m},O=h},i=function(){var t;return k.raw=j.slice(O,h),w.push(k),x.length?(t=x.pop(),k=t[0],O=t[1],void(P=t[2])):(k=null,O=null,void(P=null))},s=function(){var t=P;return P=g,++g,r(h+1),o(t),u},c=function(){if("'"===d||'"'===d)return S=d,d=j[++h],a;if("("===d||"{"===d||"["===d)++g;else if(")"===d||"}"===d||"]"===d)P===--g&&i();else if("/"===d&&z.call(D,b))return d=j[++h],p;return d!==_||!T&&b&&!v&&!z.call($,b)?(b=d,d=j[++h],u):E(h,b,g)},l=function(){for(;;){if(!d)return;if(z.call(H,d))return m=h+1,void++y;d=j[++h]}},f=function(){for(;;){if(!d)return;if("*"!==d)z.call(H,d)&&(m=h+1,++y),d=j[++h];else if(d=j[++h],"/"===d)return}},u=function(){var t;for(v=!1;;){if(!d)return;if(z.call(L,d))v=!0,z.call(H,d)&&(m=h+1,++y);else{if("/"!==d)break;if(t=j[h+1],"/"===t)d=j[h+=2],v=!0,l();else{if("*"!==t)break;d=j[h+=2],v=!0,f()}}d=j[++h]}return c},a=function(){for(;;){if(!d)return;if(d===S)return d=j[++h],b=S,u;"\\"===d&&z.call(H,j[++h])&&(m=h+1,++y),d=j[++h]}},p=function(){for(;;){if(!d)return;if("/"===d)return b="/",d=j[++h],u;"\\"===d&&++h,d=j[++h]}},e.exports=n=function(t,e,r){var o;if(j=String(q(t)),_=String(q(e)),1!==_.length)throw new TypeError(_+" should be one character long string");for(E=N(r),T=z.call($,_),h=0,d=j[h],y=1,m=0,v=!1,b=null,g=0,x=[],w=[],n.forceStop=!1,o=u;o;)o=o();return w},Object.defineProperties(n,{$ws:R(u),$common:R(c),collectNest:R(s),move:R(r),index:R.gs(function(){return h}),line:R.gs(function(){return y}),nest:R.gs(function(){return g}),columnIndex:R.gs(function(){return m}),next:R(function(t){return d?(r(h+(t||1)),u()):void 0}),resume:R(function(){return c})})},{"./lib/ws":42,"./lib/ws-eol":40,d:43,"es5-ext/array/from":7,"es5-ext/object/primitive-set":32,"es5-ext/object/valid-callable":33,"es5-ext/object/valid-value":34}],40:[function(t,e,n){"use strict";var r=t("es5-ext/array/from"),o=t("es5-ext/object/primitive-set");e.exports=o.apply(null,r("\n\r\u2028\u2029"))},{"es5-ext/array/from":7,"es5-ext/object/primitive-set":32}],41:[function(t,e,n){"use strict";var r=t("es5-ext/array/from"),o=t("es5-ext/object/primitive-set");e.exports=o.apply(null,r(" \f	\x0B​  ​᠎ ​  ​  ​  ​  ​  ​​​  ​　"))},{"es5-ext/array/from":7,"es5-ext/object/primitive-set":32}],42:[function(t,e,n){"use strict";var r=t("es5-ext/object/primitive-set"),o=t("./ws-eol"),i=t("./ws-inline");e.exports=r.apply(null,Object.keys(o).concat(Object.keys(i)))},{"./ws-eol":40,"./ws-inline":41,"es5-ext/object/primitive-set":32}],43:[function(t,e,n){arguments[4][19][0].apply(n,arguments)},{dup:19,"es5-ext/object/assign":24,"es5-ext/object/is-callable":27,"es5-ext/object/normalize-options":31,"es5-ext/string/#/contains":35}],44:[function(t,e,n){"use strict";var r=Array.prototype.reduce;e.exports=function(t){var e=arguments;return r.call(t,function(t,n,r){return t+(void 0===e[r]?"":String(e[r]))+n})}},{}],45:[function(t,e,n){"use strict";var r=t("./resolve"),o=t("./passthru");e.exports=function(t,e){return o.apply(null,r(t,e,arguments[2]))}},{"./passthru":44,"./resolve":46}],46:[function(t,e,n){"use strict";var r=t("es5-ext/object/valid-value"),o=t("es5-ext/object/normalize-options"),i=Array.prototype.map,s=Object.keys,u=JSON.stringify;e.exports=function(t,e){var n,c,a,l=Object(arguments[2]);return r(t)&&r(t.literals)&&r(t.substitutions),e=o(e),n=s(e),c=n.join(", "),a=n.map(function(t){return e[t]}),[t.literals].concat(i.call(t.substitutions,function(t){var e;if(t){try{e=new Function(c,"return ("+t+")")}catch(n){throw new TypeError("Unable to compile expression:\n	args: "+u(c)+"\n	body: "+u(t)+"\n	error: "+n.stack)}try{return e.apply(null,a)}catch(n){if(l.partial)return"${"+t+"}";throw new TypeError("Unable to resolve expression:\n	args: "+u(c)+"\n	body: "+u(t)+"\n	error: "+n.stack)}}}))}},{"es5-ext/object/normalize-options":31,"es5-ext/object/valid-value":34}],47:[function(e,n,r){(function(e){!function(e,r,o){r[e]=r[e]||o(),"undefined"!=typeof n&&n.exports?n.exports=r[e]:"function"==typeof t&&t.amd&&t(function(){return r[e]})}("Promise","undefined"!=typeof e?e:this,function(){"use strict";function t(t,e){p.add(t,e),f||(f=d(p.drain))}function e(t){var e,n=typeof t;return null==t||"object"!=n&&"function"!=n||(e=t.then),"function"==typeof e?e:!1}function n(){for(var t=0;t<this.chain.length;t++)r(this,1===this.state?this.chain[t].success:this.chain[t].failure,this.chain[t]);this.chain.length=0}function r(t,n,r){var o,i;try{n===!1?r.reject(t.msg):(o=n===!0?t.msg:n.call(void 0,t.msg),o===r.promise?r.reject(TypeError("Promise-chain cycle")):(i=e(o))?i.call(o,r.resolve,r.reject):r.resolve(o))}catch(s){r.reject(s)}}function o(r){var s,c=this;if(!c.triggered){c.triggered=!0,c.def&&(c=c.def);try{(s=e(r))?t(function(){var t=new u(c);try{s.call(r,function(){o.apply(t,arguments)},function(){i.apply(t,arguments)})}catch(e){i.call(t,e)}}):(c.msg=r,c.state=1,c.chain.length>0&&t(n,c))}catch(a){i.call(new u(c),a)}}}function i(e){var r=this;r.triggered||(r.triggered=!0,r.def&&(r=r.def),r.msg=e,r.state=2,r.chain.length>0&&t(n,r))}function s(t,e,n,r){for(var o=0;o<e.length;o++)!function(o){t.resolve(e[o]).then(function(t){n(o,t)},r)}(o)}function u(t){this.def=t,this.triggered=!1}function c(t){this.promise=t,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function a(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var r=new c(this);this.then=function(e,o){var i={success:"function"==typeof e?e:!0,failure:"function"==typeof o?o:!1};return i.promise=new this.constructor(function(t,e){if("function"!=typeof t||"function"!=typeof e)throw TypeError("Not a function");i.resolve=t,i.reject=e}),r.chain.push(i),0!==r.state&&t(n,r),i.promise},this["catch"]=function(t){return this.then(void 0,t)};try{e.call(void 0,function(t){o.call(r,t)},function(t){i.call(r,t)})}catch(s){i.call(r,s)}}var l,f,p,h=Object.prototype.toString,d="undefined"!=typeof setImmediate?function(t){return setImmediate(t)}:setTimeout;try{Object.defineProperty({},"x",{}),l=function(t,e,n,r){return Object.defineProperty(t,e,{value:n,writable:!0,configurable:r!==!1})}}catch(y){l=function(t,e,n){return t[e]=n,t}}p=function(){function t(t,e){this.fn=t,this.self=e,this.next=void 0}var e,n,r;return{add:function(o,i){r=new t(o,i),n?n.next=r:e=r,n=r,r=void 0},drain:function(){var t=e;for(e=n=f=void 0;t;)t.fn.call(t.self),t=t.next}}}();var m=l({},"constructor",a,!1);return a.prototype=m,l(m,"__NPO__",0,!1),l(a,"resolve",function(t){var e=this;return t&&"object"==typeof t&&1===t.__NPO__?t:new e(function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");e(t)})}),l(a,"reject",function(t){return new this(function(e,n){if("function"!=typeof e||"function"!=typeof n)throw TypeError("Not a function");n(t)})}),l(a,"all",function(t){var e=this;return"[object Array]"!=h.call(t)?e.reject(TypeError("Not an array")):0===t.length?e.resolve([]):new e(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");var o=t.length,i=Array(o),u=0;s(e,t,function(t,e){i[t]=e,++u===o&&n(i)},r)})}),l(a,"race",function(t){var e=this;return"[object Array]"!=h.call(t)?e.reject(TypeError("Not an array")):new e(function(n,r){if("function"!=typeof n||"function"!=typeof r)throw TypeError("Not a function");s(e,t,function(t,e){n(e)},r)})}),a})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],48:[function(t,e,n){function r(){}function o(t){var e={}.toString.call(t);switch(e){case"[object File]":case"[object Blob]":case"[object FormData]":return!0;default:return!1}}function i(t){return t===Object(t)}function s(t){if(!i(t))return t;var e=[];for(var n in t)null!=t[n]&&u(e,n,t[n]);return e.join("&")}function u(t,e,n){return Array.isArray(n)?n.forEach(function(n){u(t,e,n)}):void t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}function c(t){for(var e,n,r={},o=t.split("&"),i=0,s=o.length;s>i;++i)n=o[i],e=n.split("="),r[decodeURIComponent(e[0])]=decodeURIComponent(e[1]);return r}function a(t){var e,n,r,o,i=t.split(/\r?\n/),s={};i.pop();for(var u=0,c=i.length;c>u;++u)n=i[u],e=n.indexOf(":"),r=n.slice(0,e).toLowerCase(),o=x(n.slice(e+1)),s[r]=o;return s}function l(t){return/[\/+]json\b/.test(t)}function f(t){return t.split(/ *; */).shift()}function p(t){return g(t.split(/ *; */),function(t,e){var n=e.split(/ *= */),r=n.shift(),o=n.shift();return r&&o&&(t[r]=o),t},{})}function h(t,e){e=e||{},this.req=t,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText,this.setStatusProperties(this.xhr.status),this.header=this.headers=a(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this.setHeaderProperties(this.header),this.body="HEAD"!=this.req.method?this.parseBody(this.text?this.text:this.xhr.response):null}function d(t,e){var n=this;b.call(this),this._query=this._query||[],this.method=t,this.url=e,this.header={},this._header={},this.on("end",function(){var t=null,e=null;try{e=new h(n)}catch(r){return t=new Error("Parser is unable to parse the response"),t.parse=!0,t.original=r,t.rawResponse=n.xhr&&n.xhr.responseText?n.xhr.responseText:null,n.callback(t)}if(n.emit("response",e),t)return n.callback(t,e);if(e.status>=200&&e.status<300)return n.callback(t,e);var o=new Error(e.statusText||"Unsuccessful HTTP response");o.original=t,o.response=e,o.status=e.status,n.callback(o,e)})}function y(t,e){return"function"==typeof e?new d("GET",t).end(e):1==arguments.length?new d("GET",t):new d(t,e)}function m(t,e){var n=y("DELETE",t);return e&&n.end(e),n}var v,b=t("emitter"),g=t("reduce");v="undefined"!=typeof window?window:"undefined"!=typeof self?self:this,y.getXHR=function(){if(!(!v.XMLHttpRequest||v.location&&"file:"==v.location.protocol&&v.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(t){}return!1};var x="".trim?function(t){return t.trim()}:function(t){return t.replace(/(^\s*|\s*$)/g,"")};y.serializeObject=s,y.parseString=c,y.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},y.serialize={"application/x-www-form-urlencoded":s,"application/json":JSON.stringify},y.parse={"application/x-www-form-urlencoded":c,"application/json":JSON.parse},h.prototype.get=function(t){return this.header[t.toLowerCase()]},h.prototype.setHeaderProperties=function(t){var e=this.header["content-type"]||"";this.type=f(e);var n=p(e);for(var r in n)this[r]=n[r]},h.prototype.parseBody=function(t){var e=y.parse[this.type];return e&&t&&(t.length||t instanceof Object)?e(t):null},h.prototype.setStatusProperties=function(t){1223===t&&(t=204);var e=t/100|0;this.status=this.statusCode=t,this.statusType=e,this.info=1==e,this.ok=2==e,this.clientError=4==e,this.serverError=5==e,this.error=4==e||5==e?this.toError():!1,this.accepted=202==t,this.noContent=204==t,this.badRequest=400==t,this.unauthorized=401==t,this.notAcceptable=406==t,this.notFound=404==t,this.forbidden=403==t},h.prototype.toError=function(){var t=this.req,e=t.method,n=t.url,r="cannot "+e+" "+n+" ("+this.status+")",o=new Error(r);return o.status=this.status,o.method=e,o.url=n,o},y.Response=h,b(d.prototype),d.prototype.use=function(t){return t(this),this},d.prototype.timeout=function(t){return this._timeout=t,this},d.prototype.clearTimeout=function(){return this._timeout=0,clearTimeout(this._timer),this},d.prototype.abort=function(){return this.aborted?void 0:(this.aborted=!0,this.xhr.abort(),this.clearTimeout(),this.emit("abort"),this)},d.prototype.set=function(t,e){if(i(t)){for(var n in t)this.set(n,t[n]);return this}return this._header[t.toLowerCase()]=e,this.header[t]=e,this},d.prototype.unset=function(t){return delete this._header[t.toLowerCase()],delete this.header[t],this},d.prototype.getHeader=function(t){return this._header[t.toLowerCase()]},d.prototype.type=function(t){return this.set("Content-Type",y.types[t]||t),this},d.prototype.parse=function(t){return this._parser=t,this},d.prototype.accept=function(t){return this.set("Accept",y.types[t]||t),this},d.prototype.auth=function(t,e){var n=btoa(t+":"+e);return this.set("Authorization","Basic "+n),this},d.prototype.query=function(t){return"string"!=typeof t&&(t=s(t)),t&&this._query.push(t),this},d.prototype.field=function(t,e){return this._formData||(this._formData=new v.FormData),this._formData.append(t,e),this},d.prototype.attach=function(t,e,n){return this._formData||(this._formData=new v.FormData),this._formData.append(t,e,n||e.name),this},d.prototype.send=function(t){var e=i(t),n=this.getHeader("Content-Type");if(e&&i(this._data))for(var r in t)this._data[r]=t[r];else"string"==typeof t?(n||this.type("form"),n=this.getHeader("Content-Type"),"application/x-www-form-urlencoded"==n?this._data=this._data?this._data+"&"+t:t:this._data=(this._data||"")+t):this._data=t;return!e||o(t)?this:(n||this.type("json"),this)},d.prototype.callback=function(t,e){var n=this._callback;this.clearTimeout(),n(t,e)},d.prototype.crossDomainError=function(){var t=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");t.crossDomain=!0,t.status=this.status,t.method=this.method,t.url=this.url,this.callback(t)},d.prototype.timeoutError=function(){var t=this._timeout,e=new Error("timeout of "+t+"ms exceeded");e.timeout=t,this.callback(e)},d.prototype.withCredentials=function(){return this._withCredentials=!0,this},d.prototype.end=function(t){var e=this,n=this.xhr=y.getXHR(),i=this._query.join("&"),s=this._timeout,u=this._formData||this._data;this._callback=t||r,n.onreadystatechange=function(){if(4==n.readyState){var t;try{t=n.status}catch(r){t=0}if(0==t){if(e.timedout)return e.timeoutError();if(e.aborted)return;return e.crossDomainError()}e.emit("end")}};var c=function(t){t.total>0&&(t.percent=t.loaded/t.total*100),t.direction="download",e.emit("progress",t)};this.hasListeners("progress")&&(n.onprogress=c);try{n.upload&&this.hasListeners("progress")&&(n.upload.onprogress=c)}catch(a){}if(s&&!this._timer&&(this._timer=setTimeout(function(){e.timedout=!0,e.abort()},s)),i&&(i=y.serializeObject(i),this.url+=~this.url.indexOf("?")?"&"+i:"?"+i),n.open(this.method,this.url,!0),this._withCredentials&&(n.withCredentials=!0),"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof u&&!o(u)){var f=this.getHeader("Content-Type"),p=this._parser||y.serialize[f?f.split(";")[0]:""];!p&&l(f)&&(p=y.serialize["application/json"]),p&&(u=p(u))}for(var h in this.header)null!=this.header[h]&&n.setRequestHeader(h,this.header[h]);return this.emit("request",this),n.send("undefined"!=typeof u?u:null),this},d.prototype.then=function(t,e){return this.end(function(n,r){n?e(n):t(r)})},y.Request=d,y.get=function(t,e,n){var r=y("GET",t);return"function"==typeof e&&(n=e,e=null),e&&r.query(e),n&&r.end(n),r},y.head=function(t,e,n){var r=y("HEAD",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},y.del=m,y["delete"]=m,y.patch=function(t,e,n){var r=y("PATCH",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},y.post=function(t,e,n){var r=y("POST",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},y.put=function(t,e,n){var r=y("PUT",t);return"function"==typeof e&&(n=e,e=null),e&&r.send(e),n&&r.end(n),r},e.exports=y},{emitter:49,reduce:50}],49:[function(t,e,n){function r(t){return t?o(t):void 0}function o(t){for(var e in r.prototype)t[e]=r.prototype[e];return t}e.exports=r,r.prototype.on=r.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this},r.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this},r.prototype.off=r.prototype.removeListener=r.prototype.removeAllListeners=r.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+t],this;for(var r,o=0;o<n.length;o++)if(r=n[o],r===e||r.fn===e){n.splice(o,1);break}return this},r.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks["$"+t];if(n){n=n.slice(0);for(var r=0,o=n.length;o>r;++r)n[r].apply(this,e)}return this},r.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]},r.prototype.hasListeners=function(t){return!!this.listeners(t).length}},{}],50:[function(t,e,n){e.exports=function(t,e,n){for(var r=0,o=t.length,i=3==arguments.length?n:t[r++];o>r;)i=e.call(null,i,t[r],++r,t);return i}},{}]},{},[1])(1)});